Can you send me starter files with good outlines and comments for this mp

Yep! Here’s what a clean, commented starter skeleton for this MP could look like. It’s not super “smart” or fully implemented, but it gives a solid outline and structure for each piece you’d need to fill in.

I’ll include:

server.js

routes/index.js

routes/home.js

routes/users.js (outline only)

routes/tasks.js (outline only)

routes/helpers.js

models/user.js

models/task.js

You can imagine these as the kind of thing you might start with on day 1 of the MP.

// server.js
// Entry point for the MP3 API server

require('dotenv').config();          // Load environment variables from .env

var express = require('express');
var mongoose = require('mongoose');
var bodyParser = require('body-parser');

var app = express();
var router = express.Router();

// Use environment defined port or default to 3000
var port = process.env.PORT || 3000;

// ------------------ MIDDLEWARE ------------------ //

// Parse JSON and form-encoded bodies
app.use(bodyParser.json());
app.use(bodyParser.urlencoded({ extended: true }));

// Allow CORS so that backend and frontend can be on different origins
app.use(function (req, res, next) {
    res.header('Access-Control-Allow-Origin', '*');
    res.header('Access-Control-Allow-Headers', 'X-Requested-With, X-HTTP-Method-Override, Content-Type, Accept');
    res.header('Access-Control-Allow-Methods', 'POST, GET, PUT, DELETE, OPTIONS');
    next();
});

// ------------------ DATABASE CONNECTION ------------------ //

// Connect to MongoDB Atlas using the connection string in .env
// Example in .env: MONGODB_URI="mongodb+srv://user:pass@cluster0.xyz.mongodb.net/?retryWrites=true&w=majority"
mongoose.connect(process.env.MONGODB_URI, {
    useNewUrlParser: true,
    useUnifiedTopology: true
});

var db = mongoose.connection;
db.on('error', console.error.bind(console, 'MongoDB connection error:'));
db.once('open', function () {
    console.log('Connected to MongoDB');
});

// ------------------ ROUTES ------------------ //

// Use routes module to plug in /api endpoints
require('./routes')(app, router);

// Optional root route just for sanity check
app.get('/', function (req, res) {
    res.send('MP3 API is running. Use /api/users or /api/tasks.');
});

// ------------------ START SERVER ------------------ //

app.listen(port, function () {
    console.log('Server running on port ' + port);
});

// routes/index.js
// Connect all of your endpoints together here.

module.exports = function (app, router) {
    // Home / test route (GET /api/)
    app.use('/api', require('./home')(router));

    // Users endpoints (GET/POST /api/users, etc.)
    app.use('/api', require('./users')(router));

    // Tasks endpoints (GET/POST /api/tasks, etc.)
    app.use('/api', require('./tasks')(router));
};

// routes/home.js
// Simple test route to verify that the server and environment are working.

module.exports = function (router) {
    var homeRoute = router.route('/');

    // GET /api/
    homeRoute.get(function (req, res) {
        // Example: read some env var
        var token = process.env.TOKEN || 'no TOKEN set';

        res.json({
            message: 'Home route OK. TOKEN is ' + token,
            data: null
        });
    });

    return router;
};


// routes/helpers.js
// Helper to parse query string parameters for GET /users and /tasks
// Supports: where, sort, select, skip, limit, count
// Also supports ?filter= as alias for select (for Python scripts)

module.exports.buildQueryOptions = function (req, type) {
    var where = {};
    var sort = {};
    var select = null;

    // where
    if (req.query.where) {
        try {
            where = JSON.parse(req.query.where);
        } catch (e) {
            return { error: true, message: 'Invalid JSON in where' };
        }
    }

    // sort
    if (req.query.sort) {
        try {
            sort = JSON.parse(req.query.sort);
        } catch (e) {
            return { error: true, message: 'Invalid JSON in sort' };
        }
    }

    // select or filter
    if (req.query.select) {
        try {
            select = JSON.parse(req.query.select);
        } catch (e) {
            return { error: true, message: 'Invalid JSON in select' };
        }
    } else if (req.query.filter) {
        try {
            select = JSON.parse(req.query.filter);
        } catch (e) {
            return { error: true, message: 'Invalid JSON in filter' };
        }
    }

    // skip
    var skip = 0;
    if (req.query.skip) {
        skip = parseInt(req.query.skip, 10);
        if (isNaN(skip)) skip = 0;
    }

    // limit
    var limit;
    if (req.query.limit) {
        limit = parseInt(req.query.limit, 10);
        if (isNaN(limit)) limit = 0;
    } else {
        // default limit only required for tasks
        if (type === 'tasks') {
            limit = 100;
        }
    }

    // count
    var count = false;
    if (req.query.count === 'true' || req.query.count === true) {
        count = true;
    }

    return {
        error: false,
        where: where,
        sort: sort,
        select: select,
        skip: skip,
        limit: limit,
        count: count
    };
};

// models/user.js
// User schema for MP3

var mongoose = require('mongoose');

var UserSchema = new mongoose.Schema({
    // User's name (required)
    name: {
        type: String,
        required: [true, 'User Name']
    },

    // User's email (required, unique)
    email: {
        type: String,
        required: [true, 'User Email'],
        unique: true
    },

    // IDs of tasks that are pending for this user
    pendingTasks: {
        type: [String],
        default: []
    },

    // Automatically set when user is created
    dateCreated: {
        type: Date,
        default: Date.now
    }
});

module.exports = mongoose.model('User', UserSchema);

// models/tasks.js
// Task schema for MP3

var mongoose = require('mongoose');

var TaskSchema = new mongoose.Schema({
    // Task name (required)
    name: {
        type: String,
        required: [true, 'Task Name']
    },

    // Optional longer description of the task
    description: {
        type: String,
        default: ''
    },

    // Deadline for this task (required)
    deadline: {
        type: Date,
        required: [true, 'Task Deadline']
    },

    // Whether the task is completed or not
    completed: {
        type: Boolean,
        default: false
    },

    // _id of assigned user (as a string). Empty string if unassigned.
    assignedUser: {
        type: String,
        default: ''
    },

    // Name of assigned user (or "unassigned")
    assignedUserName: {
        type: String,
        default: 'unassigned'
    },

    // Automatically set when task is created
    dateCreated: {
        type: Date,
        default: Date.now
    }
});

module.exports = mongoose.model('Task', TaskSchema);

// routes/users.js
// Users endpoints: /api/users and /api/users/:id

var User = require('../models/user');
var Task = require('../models/tasks');
var helpers = require('./helpers');

module.exports = function (router) {

    // ---------- /api/users ---------- //
    router.route('/users')

        // GET /api/users
        // - apply query parameters (where, sort, select, skip, limit, count)
        .get(function (req, res) {
            // TODO: use helpers.buildQueryOptions and query User collection
            // Respond with { message: 'success', data: [...] } or count
        })

        // POST /api/users
        // - create a new user
        // - validate name and email
        // - ensure email is unique
        .post(function (req, res) {
            // TODO: implement user creation with validation and error handling
        });

    // ---------- /api/users/:id ---------- //
    router.route('/users/:id')

        // GET /api/users/:id
        // - get a single user by id
        // - support select/filter
        .get(function (req, res) {
            // TODO: implement
        })

        // PUT /api/users/:id
        // - replace entire user (name, email, pendingTasks)
        // - handle two-way reference between user.pendingTasks and tasks.assignedUser
        .put(function (req, res) {
            // TODO: implement
        })

        // DELETE /api/users/:id
        // - delete user
        // - unassign user's pending tasks
        .delete(function (req, res) {
            // TODO: implement
        });

    return router;
};
// routes/tasks.js
// Tasks endpoints: /api/tasks and /api/tasks/:id

var User = require('../models/user');
var Task = require('../models/tasks');
var helpers = require('./helpers');

module.exports = function (router) {

    // ---------- /api/tasks ---------- //
    router.route('/tasks')

        // GET /api/tasks
        // - apply query parameters (where, sort, select, skip, limit, count)
        .get(function (req, res) {
            // TODO: use helpers.buildQueryOptions and query Task collection
        })

        // POST /api/tasks
        // - create a new task (name + deadline required)
        // - if assignedUser is provided and valid, set assignedUserName
        // - if assignedUser is set and completed=false, add to user's pendingTasks
        .post(function (req, res) {
            // TODO: implement with validation and two-way reference
        });

    // ---------- /api/tasks/:id ---------- //
    router.route('/tasks/:id')

        // GET /api/tasks/:id
        .get(function (req, res) {
            // TODO
        })

        // PUT /api/tasks/:id
        // - replace entire task (name, deadline, etc.)
        // - update two-way reference between user and task
        .put(function (req, res) {
            // TODO
        })

        // DELETE /api/tasks/:id
        // - delete the task
        // - if it was pending for a user, remove from that user's pendingTasks
        .delete(function (req, res) {
            // TODO
        });

    return router;
};


